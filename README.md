## Ecommerce App (Flutter)

Modern ecommerce application built with Flutter, Riverpod, Firebase, Dio, and a clean MVVM-style architecture. This README covers setup, project structure, technologies, and common workflows.

### Features
- **Authentication**: Email/Password, Google, and Facebook via Firebase Auth
- **Product Catalog**: Fetch products from remote API using Dio
- **Cart**: Add/remove items, persist to Firestore
- **Connectivity Awareness**: Live online/offline status and UX fallbacks
- **Responsive UI**: Adaptive layouts/sizing with `flutter_screenutil`
- **State Management**: `flutter_riverpod` with providers for repositories and services

### Tech Stack
- **Framework**: Flutter (Dart ^3.7.0)
- **State Management**: Riverpod (`flutter_riverpod`)
- **Networking**: Dio
- **Backend**: Firebase (Core, Auth, Cloud Firestore)
- **Auth Providers**: Google Sign-In, Facebook Auth
- **Connectivity**: `internet_connection_checker_plus`
- **UI Utilities**: `flutter_screenutil`, `flutter_svg`, `font_awesome_flutter`

### Architecture
- **MVVM-ish + Repository**
  - Views in `lib/view/**`
  - ViewModels in `lib/view_model/**`
  - Data models in `lib/model/**`
  - Repositories abstract data access in `lib/repository/**`
  - Dependency injection providers in `lib/di/**`
  - Cross-cutting utilities in `lib/utils/**`
- **Riverpod Providers**
  - Repository providers: `authRepositoryProvider`, `cartRepositoryProvider`, `productRepositoryProvider`
  - Connectivity: `internetConnectionStatusProvider` (see `lib/di/connectivity_providers.dart`)

### Project Structure
```text
lib/
  di/
    connectivity_providers.dart       # Internet connectivity providers (stream + instance)
    repository_provider.dart          # Repository DI providers
  model/
    cart_model.dart
    category_model.dart
    product_model.dart
  repository/
    authentication_repository/
      auth_firebase.dart              # Firebase Auth implementation
      auth_repository.dart            # Auth contract
    cart_repository/
      cart_firebase.dart              # Firestore cart implementation
      cart_repository.dart            # Cart contract
    product_repository/
      product_api.dart                # Dio-based product API implementation
      product_repository.dart         # Product contract
  utils/
    greeting_based_time.dart          # Example utility
  view/
    cart_item/
      cart_item_view.dart
    home/
      Home_view.dart
    item_describtion/
      item_description_view.dart
    log_in/
      log_in_view.dart
    profile/
      profile_view.dart
    register/
      register_view.dart
    widget/                           # Shared UI widgets
      ...
  view_model/
    auth_view_model.dart
    cart_item_view_model.dart
    home_view_model.dart
    item_description_view_model.dart
    login_view_model.dart
    main_view_model.dart
    register_view_model.dart
  firebase_options.dart               # Generated by FlutterFire CLI
  main.dart                           # App entrypoint
pubspec.yaml
```

### Prerequisites
- Flutter SDK installed and configured (`flutter --version`)
- Dart SDK (bundled with Flutter)
- Firebase project with Web/Android/iOS (as needed)
- For social login:
  - Google Cloud OAuth client configured
  - Facebook App configured

### Setup
1) Install dependencies
```powershell
flutter pub get
```

2) Configure Firebase (skip if `lib/firebase_options.dart` already exists)
```bash
# Install FlutterFire CLI if needed
dart pub global activate flutterfire_cli

# Configure for your Firebase project (select platforms you need)
flutterfire configure
```
This generates `lib/firebase_options.dart` and updates platform files.

3) Platform-specific notes
- Android: Ensure `minSdkVersion` and `targetSdkVersion` match Firebase requirements.
- iOS: Run `cd ios && pod install` after configuring Firebase.
- Web: Ensure Firebase hosting/config is properly set up if deploying to web.

### Running the App
```powershell
# Run on a connected device or emulator
flutter run

# Specify a device
flutter devices
flutter run -d <device_id>
```

### Build
```powershell
# Android APK (debug)
flutter build apk

# Android App Bundle (release)
flutter build appbundle

# iOS (requires macOS)
flutter build ios

# Web
flutter build web
```

### Configuration Highlights
- Riverpod Providers
  - Repositories defined in `lib/di/repository_provider.dart`
  - Connectivity providers in `lib/di/connectivity_providers.dart`

- Networking (Dio)
  - Implemented in `lib/repository/product_repository/product_api.dart`
  - Custom headers (e.g., a `User-Agent`) can be applied per request or via an interceptor

- Firebase
  - Initialize using `DefaultFirebaseOptions.currentPlatform` from `firebase_options.dart`
  - Auth flows in `lib/repository/authentication_repository/*`
  - Cart stored/queried via Firestore in `lib/repository/cart_repository/*`

### Environment & Secrets
- Do not hardcode sensitive values in the codebase.
- Use Firebase Console for API keys and OAuth credentials; platform config files keep them in the right places.

### Linting & Code Style
```powershell
flutter analyze
```
Lint rules are provided by `flutter_lints` in `pubspec.yaml`. Follow clear naming, early returns, and avoid deep nesting.

### Testing
The project includes the default Flutter test dependency. Add tests under `test/` and run:
```powershell
flutter test
```

### Troubleshooting
- Firebase initialization errors: Confirm `firebase_options.dart` exists and `Firebase.initializeApp` is called in `main.dart` using the generated options.
- Google/Facebook sign-in issues: Verify app IDs, SHA-1/256 (Android), reversed client ID (iOS), and redirect URIs.
- Network errors: Check Dio base URL and headers in `product_api.dart`; confirm device has internet.
- Riverpod provider not found: Ensure provider is above the consumer in the widget tree and imports are correct.

### Contributing
1. Create a feature branch
2. Make changes with clear commits
3. Keep code formatted and analyzed cleanly
4. Open a pull request with a concise description and screenshots if UI-related

### License
Specify your license (e.g., MIT). If unsure, add an open-source license file or keep the project private.

### Acknowledgements
- Flutter & Dart teams
- Firebase
- Riverpod
- Dio

# ecommerce_app

A new Flutter project.

## Getting Started

This project is a starting point for a Flutter application.

A few resources to get you started if this is your first Flutter project:

- [Lab: Write your first Flutter app](https://docs.flutter.dev/get-started/codelab)
- [Cookbook: Useful Flutter samples](https://docs.flutter.dev/cookbook)

For help getting started with Flutter development, view the
[online documentation](https://docs.flutter.dev/), which offers tutorials,
samples, guidance on mobile development, and a full API reference.
